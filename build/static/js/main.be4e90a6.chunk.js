(this["webpackJsonpyour-local-menu"]=this["webpackJsonpyour-local-menu"]||[]).push([[0],{19:function(e,t,a){},23:function(e,t,a){e.exports=a.p+"static/media/Menu.d0c8e916.jpg"},35:function(e,t,a){e.exports=a.p+"static/media/chef.c14a188e.jpg"},37:function(e,t,a){e.exports=a(70)},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(20),i=a.n(l),c=(a(42),a(43),a(7)),s=a(8),o=a(10),m=a(9),u=(a(44),a(12)),d=a(1),h=(a(19),a(4)),p=(a(45),a(14)),v=a.n(p),b=a(36),E=a(16),f=a(17),g=a.n(f);var k=function(e){return r.a.createElement("div",{id:"GridChild"},r.a.createElement("img",{src:e.imgclicked.image_url}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("span",null,e.imgclicked.name),r.a.createElement("br",null),r.a.createElement("span",null,e.imgclicked.phone),r.a.createElement("br",null),r.a.createElement("span",null,e.location[0]),r.a.createElement("br",null),r.a.createElement("span",null,e.location[1]),r.a.createElement("br",null))},w=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).img_onclick=function(e){var t=n.state.data[e];n.setState({img_clicked:t}),n.setState({location:n.state.data[0].location.display_address})},n.state={data:[""],img_clicked:{},location:"",resHTML:[r.a.createElement("div",null,"Please make a search")]},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.callApi()}},{key:"callApi",value:function(){var e=Object(E.a)(v.a.mark((function e(){var t=this;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g.a.get("https://cors-anywhere.herokuapp.com/".concat("https://api.yelp.com/v3/businesses/search"),{headers:{Authorization:"Bearer ".concat("YxJex-AdKFC1boHD7xDHtca5-VCs0eXMePn9zaz_lKLm2pK-VnwebfwbXHiD9x2chuhRSqJVOjbuo1d5WJBQEyoODprn-Zyh_jEKjFC3-P9YigGmLTpv2R0c0lLHXnYx")},params:{term:this.props.term,latitude:"40.730610",longitude:"-73.935242"}}).then((function(e){var a,n=Object(b.a)(e.data.businesses);try{for(n.s();!(a=n.n()).done;){var l=a.value;console.log(l)}}catch(c){n.e(c)}finally{n.f()}console.log(t.props.capture);var i=e.data.businesses.map((function(e){return r.a.createElement(u.b,{to:"/Reviews",onClick:function(){return t.props.capture(r.a.createElement(k,{imgclicked:e,location:e.location.display_address}),e.alias)}},r.a.createElement(k,{imgclicked:e,location:e.location.display_address}))}));t.setState({data:e.data.businesses,resHTML:i})})).catch((function(e){console.log("error")}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{id:"Gridcontainer"},this.state.resHTML)}}]),a}(n.Component),S=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).state={search:"",renderReview:!1,submitSearch:r.a.createElement("div",null,"Please submit a search")},e.updateSearch=e.updateSearch.bind(Object(h.a)(e)),e.makeSearch=e.makeSearch.bind(Object(h.a)(e)),e}return Object(s.a)(a,[{key:"updateSearch",value:function(e){this.setState({search:e.target.value})}},{key:"makeSearch",value:function(e){e.preventDefault(),console.log("This works"),this.setState({renderReview:!0,submitSearch:r.a.createElement(w,{capture:this.props.capture,term:this.state.search})})}},{key:"render",value:function(){return r.a.createElement("div",{className:"holder"},r.a.createElement("form",{onSubmit:this.makeSearch},r.a.createElement("div",{className:"search-tag",htmlFor:"search-input"},r.a.createElement("input",{type:"text",name:"name",id:"search-input",placeholder:"search",onChange:this.updateSearch}),r.a.createElement("button",{className:"button",type:"submit"}," Submit"),r.a.createElement("h1",{className:"caption"},"search for a restaurant that delivers Search for a in San Francisco"))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",null,this.state.submitSearch))}}]),a}(n.Component),y=(a(69),function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={isFillingOutForm:!1},n.handleClick=n.handleClick.bind(Object(h.a)(n)),n.submitForm=n.submitForm.bind(Object(h.a)(n)),n}return Object(s.a)(a,[{key:"handleClick",value:function(){this.setState((function(e){return{isFillingOutForm:!e.isFillingOutForm}}))}},{key:"submitForm",value:function(e){e.preventDefault(),this.props.createComment(),this.setState((function(e){return{isFillingOutForm:!e.isFillingOutForm}}))}},{key:"render",value:function(){return this.state.isFillingOutForm?r.a.createElement("div",{className:"row"},r.a.createElement("form",{onSubmit:this.submitForm},r.a.createElement("label",null,"Name:",r.a.createElement("input",{type:"text",onChange:this.props.takeName,placeholder:"Name"}),r.a.createElement("br",null)),r.a.createElement("label",null,"Rating:",r.a.createElement("input",{type:"number",onChange:this.props.takeRating,placeholder:"0.0"}),r.a.createElement("br",null)),r.a.createElement("label",null,"Comment:",r.a.createElement("input",{type:"text",onChange:this.props.takeComment,placeholder:"Comment"}),r.a.createElement("br",null)),r.a.createElement("label",null,r.a.createElement("input",{type:"submit",value:"Submit"})))):r.a.createElement("div",{className:"row"},r.a.createElement("button",{onClick:this.handleClick},"Leave a review"))}}]),a}(n.Component)),C=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).componentDidUpdate=function(e){console.log(n.reviewData),n.props.data!=e.data&&n.reviewRender()},n.componentDidMount=function(){n.props.data.length>1&&n.reviewRender()},n.reviewRender=function(){n.setState({reviewData:n.props.data})},n.handletextChange=function(e){n.setState({id:e.target.id});var t=n.state.reviewData;t[n.state.id].text=e.target.value,n.setState({reviewData:t})},n.handleSubmit=function(e){e.preventDefault(),n.setState({id:-1})},n.delete=function(e){var t=n.state.reviewData;delete t[e.target.id],n.setState({reviewData:t})},n.edit=function(e){e.preventDefault(),console.log("Are u enabling"),n.setState({id:e.target.id}),document.getElementsByClassName("textarea")[e.target.id].style.disabled="false",console.log(e.target.id)},n.state={reviewData:[],id:-1},n}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container"},r.a.createElement("div",null,this.props.reviewButton),r.a.createElement("h1",null,"Reviews "),r.a.createElement("div",{className:"flexparent"},null!=this.state.reviewData&&this.state.reviewData.map((function(t,a){return r.a.createElement("div",null,r.a.createElement("div",{className:"flexchild"},r.a.createElement("div",{className:"thumbnaildiv"},r.a.createElement("img",{id:"displaypic",src:t.user.image_url}),r.a.createElement("p",null,t.user.name),r.a.createElement("div",{className:"btn"},r.a.createElement("button",{type:"submit",id:a,onClick:e.edit},"Update"),r.a.createElement("button",{type:"submit",id:a,onClick:e.delete},"Delete"))),r.a.createElement("div",{className:"forflex"},r.a.createElement("span",null,"Reviewed on ",t.time_created),r.a.createElement("span",null,t.rating," Stars"),r.a.createElement("textarea",{className:"textarea",id:a,value:t.text,onChange:e.handletextChange,disabled:e.state.id!=a})),r.a.createElement("button",{type:"submit",id:a,onClick:e.handleSubmit,hidden:e.state.id!=a},"Submit"),r.a.createElement("br",null)),r.a.createElement("br",null))})),r.a.createElement("br",null),r.a.createElement("br",null)))}}]),a}(n.Component),O=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={data:[{}],name:"",rating:0,comment:"",reviews:[""]},n.takeName=n.takeName.bind(Object(h.a)(n)),n.takeRating=n.takeRating.bind(Object(h.a)(n)),n.takeComment=n.takeComment.bind(Object(h.a)(n)),n.createComment=n.createComment.bind(Object(h.a)(n)),n}return Object(s.a)(a,[{key:"takeName",value:function(e){this.setState({name:e.target.value})}},{key:"takeRating",value:function(e){this.setState({rating:e.target.value})}},{key:"takeComment",value:function(e){this.setState({comment:e.target.value})}},{key:"createComment",value:function(){var e=this.state.data,t={id:"",url:"",text:this.state.comment,rating:parseInt(this.state.rating),time_created:(new Date).toISOString().replace("T"," ").replace("Z",""),user:{id:"",profile_url:"",image_url:"",name:this.state.name}};e.unshift(t),this.setState({data:e})}},{key:"componentDidMount",value:function(){console.log("Are u comin here"),this.callApi()}},{key:"callApi",value:function(){var e=Object(E.a)(v.a.mark((function e(){var t=this;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g.a.get("https://cors-anywhere.herokuapp.com/".concat("https://api.yelp.com/v3/businesses/",this.props.restuarant,"/reviews"),{headers:{Authorization:"Bearer ".concat("YxJex-AdKFC1boHD7xDHtca5-VCs0eXMePn9zaz_lKLm2pK-VnwebfwbXHiD9x2chuhRSqJVOjbuo1d5WJBQEyoODprn-Zyh_jEKjFC3-P9YigGmLTpv2R0c0lLHXnYx")}}).then((function(e){t.setState({data:e.data.reviews})})).catch((function(e){console.log("error")}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",null,this.props.sideElement),r.a.createElement(C,{data:this.state.data,reviewButton:r.a.createElement(y,{takeName:this.takeName,takeRating:this.takeRating,takeComment:this.takeComment,createComment:this.createComment})}))}}]),a}(n.Component),j=a(23),x=a.n(j),N=a(35),D=a.n(N),R=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).showModal=function(e){e.preventDefault(),0==n.state.show?(n.setState({show:!0}),n.setState({clsName:"block"}),n.setState({expand:"modal-main"})):(n.setState({show:!1}),n.setState({clsName:"none"}))},n.handleexpand=function(e){n.setState({show:!1}),n.setState({expand:"modal"}),console.log(e)},n.routeToCustomReview=function(e,t){n.setState({sideElement:e,restuarant:t})},n.state={clsName:"none",show:!1,expand:"modal-main",restuarant:"",sideElement:r.a.createElement("p",null,"Please pick a restuarant from the search results")},n}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:this.state.expand,style:{display:this.state.clsName}},1==this.state.show&&r.a.createElement("div",null,r.a.createElement("img",{id:"menu",src:x.a}),r.a.createElement("button",{id:"close",onClick:this.hide},"X"),r.a.createElement("div",{className:"links"},r.a.createElement(u.a,null,r.a.createElement(u.b,{to:"/",className:"link",onClick:this.handleexpand},"Home"),r.a.createElement(u.b,{to:"/Search",className:"link",onClick:this.handleexpand},"Search"),r.a.createElement(u.b,{to:"/Reviews",className:"link",onClick:this.handleexpand},"Reviews")))),"modal"==this.state.expand&&r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(u.a,null,r.a.createElement(d.c,null,r.a.createElement(d.a,{exact:!0,path:"/"},r.a.createElement(F,null)),r.a.createElement(d.a,{exact:!0,path:"/Search"},r.a.createElement(S,{capture:this.routeToCustomReview})),r.a.createElement(d.a,{exact:!0,path:"/Reviews"},r.a.createElement(O,{sideElement:this.state.sideElement,restuarant:this.state.restuarant}))))))),r.a.createElement("div",{id:"chefdiv"},r.a.createElement("img",{id:"chef",src:D.a,onClick:this.showModal,alt:"img not found"})))}}]),a}(n.Component);function F(){return r.a.createElement("div",{className:"About"},r.a.createElement("h1",{id:"yelp"},"Yelp"),r.a.createElement("img",{src:x.a}),r.a.createElement("div",{id:"header"},r.a.createElement("h1",null," Yelp connects people with "),r.a.createElement("h1",null,"great local businesses")))}var _=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("h1",{id:"headermain"},"YELP"),r.a.createElement(R,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(_,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[37,1,2]]]);
//# sourceMappingURL=main.be4e90a6.chunk.js.map