(this["webpackJsonpyour-local-menu"]=this["webpackJsonpyour-local-menu"]||[]).push([[0],{19:function(e,t,a){},21:function(e,t,a){e.exports=a(49)},26:function(e,t,a){},27:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},28:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(20),l=a.n(i),c=(a(26),a(27),a(28),a(8)),s=a.n(c),o=a(9),u=a(2),m=a(3),d=a(5),h=a(4),p=a(7),v=a.n(p);a(19);var b=function(e){return r.a.createElement("div",{className:"Restaurant"},r.a.createElement("img",{src:e.imgclicked.image_url}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("span",null,e.imgclicked.name),r.a.createElement("br",null),r.a.createElement("span",null,e.imgclicked.phone),r.a.createElement("br",null),r.a.createElement("span",null,e.location[0]),r.a.createElement("br",null),r.a.createElement("span",null,e.location[1]),r.a.createElement("br",null))},f=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).img_onclick=function(e){var t=n.state.data[e];n.setState({img_clicked:t}),n.setState({location:n.state.data[0].location.display_address})},n.state={data:[{}],img_clicked:{},location:""},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.callApi()}},{key:"callApi",value:function(){var e=Object(o.a)(s.a.mark((function e(){var t=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v.a.get("https://cors-anywhere.herokuapp.com/".concat("https://api.yelp.com/v3/businesses/search"),{headers:{Authorization:"Bearer ".concat("fHhyl3xF3lxsP_BVE2JFW0yxnGgrh7X_tYVrtS-V4zgOnfd_QaeuMZsSdql4xmB8fF7F7i7G8u0qpX-hTYvpJKIZdt-dX1Z67I93FCSOId0sy7oLXrazoeA6JnTDXnYx")},params:{term:this.props.term,latitude:"40.730610",longitude:"-73.935242"}}).then((function(e){console.log(e.data.businesses),t.setState({data:e.data.businesses}),t.img_onclick(1),console.log(t.state.data[0].location.display_address)})).catch((function(e){console.log("error")}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(b,{imgclicked:this.state.img_clicked,location:this.state.location}))}}]),a}(n.Component),E=(a(47),a(6)),g=(a(48),function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={isFillingOutForm:!1},n.handleClick=n.handleClick.bind(Object(E.a)(n)),n.submitForm=n.submitForm.bind(Object(E.a)(n)),n}return Object(m.a)(a,[{key:"handleClick",value:function(){this.setState((function(e){return{isFillingOutForm:!e.isFillingOutForm}}))}},{key:"submitForm",value:function(e){e.preventDefault(),this.props.createComment(),this.setState((function(e){return{isFillingOutForm:!e.isFillingOutForm}}))}},{key:"render",value:function(){return this.state.isFillingOutForm?r.a.createElement("div",{className:"row"},r.a.createElement("form",{onSubmit:this.submitForm},r.a.createElement("label",null,"Name:",r.a.createElement("input",{type:"text",onChange:this.props.takeName,placeholder:"Name"}),r.a.createElement("br",null)),r.a.createElement("label",null,"Rating:",r.a.createElement("input",{type:"number",onChange:this.props.takeRating,placeholder:"0.0"}),r.a.createElement("br",null)),r.a.createElement("label",null,"Comment:",r.a.createElement("input",{type:"text",onChange:this.props.takeComment,placeholder:"Comment"}),r.a.createElement("br",null)),r.a.createElement("label",null,r.a.createElement("input",{type:"submit",value:"Submit"})))):r.a.createElement("div",{className:"row"},r.a.createElement("button",{onClick:this.handleClick},"Leave a review"))}}]),a}(n.Component)),k=(n.Component,function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).componentDidUpdate=function(e){console.log(n.reviewData),n.props.data!=e.data&&n.reviewRender()},n.componentDidMount=function(){n.props.data.length>1&&n.reviewRender()},n.reviewRender=function(){n.setState({reviewData:n.props.data})},n.handletextChange=function(e){n.setState({id:e.target.id});var t=n.state.reviewData;t[n.state.id].text=e.target.value,n.setState({reviewData:t})},n.handleSubmit=function(e){e.preventDefault(),n.setState({id:-1})},n.delete=function(e){var t=n.state.reviewData;delete t[e.target.id],n.setState({reviewData:t})},n.edit=function(e){e.preventDefault(),n.setState({id:e.target.id})},n.state={reviewData:[],id:-1},n}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",null,this.props.reviewButton),r.a.createElement("h1",null,"Reviews "),r.a.createElement("div",{className:"flexparent"},null!=this.state.reviewData&&this.state.reviewData.map((function(t,a){return r.a.createElement("div",null,r.a.createElement("div",{className:"flexchild"},r.a.createElement("div",{className:"thumbnaildiv"},r.a.createElement("img",{id:"displaypic",src:t.user.image_url}),r.a.createElement("p",null,t.user.name),r.a.createElement("div",{className:"btn"},r.a.createElement("button",{type:"submit",id:a,onClick:e.edit},"Update"),r.a.createElement("button",{type:"submit",id:a,onClick:e.delete},"Delete"))),r.a.createElement("div",{className:"forflex"},r.a.createElement("span",null,"Reviewed on ",t.time_created),r.a.createElement("span",null,t.rating," Stars"),r.a.createElement("textarea",{id:a,value:t.text,autoFocus:!0,onChange:e.handletextChange,disabled:e.state.id!=a})),r.a.createElement("button",{type:"submit",id:a,onClick:e.handleSubmit,hidden:e.state.id!=a},"Submit"),r.a.createElement("br",null)),r.a.createElement("br",null))})),r.a.createElement("br",null),r.a.createElement("br",null)))}}]),a}(n.Component)),y=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={data:[{}],name:"",rating:0,comment:"",reviews:[""]},n.takeName=n.takeName.bind(Object(E.a)(n)),n.takeRating=n.takeRating.bind(Object(E.a)(n)),n.takeComment=n.takeComment.bind(Object(E.a)(n)),n.createComment=n.createComment.bind(Object(E.a)(n)),n}return Object(m.a)(a,[{key:"takeName",value:function(e){this.setState({name:e.target.value})}},{key:"takeRating",value:function(e){this.setState({rating:e.target.value})}},{key:"takeComment",value:function(e){this.setState({comment:e.target.value})}},{key:"createComment",value:function(){var e=this.state.data,t={id:"",url:"",text:this.state.comment,rating:parseInt(this.state.rating),time_created:(new Date).toISOString().replace("T"," ").replace("Z",""),user:{id:"",profile_url:"",image_url:"",name:this.state.name}};e.unshift(t),this.setState({data:e})}},{key:"componentDidMount",value:function(){this.callApi()}},{key:"callApi",value:function(){var e=Object(o.a)(s.a.mark((function e(){var t=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v.a.get("https://cors-anywhere.herokuapp.com/".concat("https://api.yelp.com/v3/businesses/",this.props.restuarant,"/reviews"),{headers:{Authorization:"Bearer ".concat("fHhyl3xF3lxsP_BVE2JFW0yxnGgrh7X_tYVrtS-V4zgOnfd_QaeuMZsSdql4xmB8fF7F7i7G8u0qpX-hTYvpJKIZdt-dX1Z67I93FCSOId0sy7oLXrazoeA6JnTDXnYx")}}).then((function(e){t.setState({data:e.data.reviews})})).catch((function(e){console.log("error")}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",null,this.state.reviews),r.a.createElement(k,{data:this.state.data,reviewButton:r.a.createElement(g,{takeName:this.takeName,takeRating:this.takeRating,takeComment:this.takeComment,createComment:this.createComment})}))}}]),a}(n.Component),w=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(u.a)(this,a),(e=t.call(this)).Click=function(t){t.preventDefault(),e.setState({renderReview:!0})},e.state={search:"",renderReview:!1},e}return Object(m.a)(a,[{key:"updateSearch",value:function(e){this.setState({search:e.target.value.substr(0,20)})}},{key:"render",value:function(){return r.a.createElement("div",{className:"holder"},0==this.state.renderReview&&r.a.createElement("form",{onSubmit:this.submitHandler},r.a.createElement("div",{className:"search-tag",htmlFor:"search-input"},r.a.createElement("input",{type:"text",name:"name",id:"search-input",value:this.state.search,placeholder:"search",onChange:this.updateSearch.bind(this)}),r.a.createElement("button",{className:"button",type:"submit",onClick:this.Click}," Submit"),r.a.createElement("h1",{className:"caption"}," Search for a restaurant that delivers in San Francisco"))),r.a.createElement("div",null,this.state.renderReview?r.a.createElement(y,{restuarant:"prospect-san-francisco"}):r.a.createElement(f,{term:"delis"})))}}]),a}(n.Component);var C=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(w,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[21,1,2]]]);
//# sourceMappingURL=main.300d003c.chunk.js.map