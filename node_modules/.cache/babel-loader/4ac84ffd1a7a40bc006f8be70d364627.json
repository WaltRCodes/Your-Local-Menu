{"ast":null,"code":"var _jsxFileName = \"/Users/student_m13/Desktop/Github/morning/Your-Local-Menu/src/components/ReviewCall.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport LeaveReview from './LeaveReview';\nimport Review from './Review/Review';\nexport default class Call extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: [{}],\n      name: '',\n      rating: 0,\n      comment: '',\n      reviews: ['']\n    };\n    {\n      /*this binds the functions*/\n    }\n    this.takeName = this.takeName.bind(this);\n    this.takeRating = this.takeRating.bind(this);\n    this.takeComment = this.takeComment.bind(this);\n    this.createComment = this.createComment.bind(this);\n  }\n\n  takeName(event) {\n    {\n      /* update the ymbol in state */\n    }\n    this.setState({\n      name: event.target.value\n    });\n  }\n\n  takeRating(event) {\n    {\n      /* update the ymbol in state */\n    }\n    this.setState({\n      rating: event.target.value\n    });\n  }\n\n  takeComment(event) {\n    {\n      /* update the quantity in state */\n    }\n    this.setState({\n      comment: event.target.value\n    });\n  }\n\n  createComment() {\n    //   let newReviews = this.state.reviews;\n    //   let newReviewHTML = <ReviewCell user={this.state.name} rating={this.state.rating} comment={this.state.comment}/>;\n    //   newReviews.push(newReviewHTML);\n    //  this.setState({reviews:newReviews});\n    {\n      /*this puts the data from the data fields into data*/\n    }\n    let currentReviews = this.state.data;\n    let newReview = {\n      \"id\": \"\",\n      \"url\": \"\",\n      \"text\": this.state.comment,\n      \"rating\": parseInt(this.state.rating),\n      \"time_created\": new Date().toISOString().replace(\"T\", \" \").replace(\"Z\", \"\"),\n      \"user\": {\n        \"id\": \"\",\n        \"profile_url\": \"\",\n        \"image_url\": \"\",\n        \"name\": this.state.name\n      }\n    };\n    currentReviews.unshift(newReview);\n    this.setState({\n      data: currentReviews\n    });\n  }\n\n  componentDidMount() {\n    console.log(\"Are u comin here\");\n    {\n      /* call the api on page load */\n    }\n    this.callApi();\n  }\n\n  async callApi() {\n    {\n      /*https://medium.com/@chaoyue_zhao/how-to-make-axios-api-calls-with-yelp-fusion-inside-react-js-10755d8485c5*/\n    }\n    {\n      /*this calls the api and puts the response data into state*/\n    }\n    axios.get(`${'https://cors-anywhere.herokuapp.com/'}https://api.yelp.com/v3/businesses/${this.props.restuarant}/reviews`, {\n      headers: {\n        Authorization: `Bearer ${process.env.REACT_APP_API_KEY}`\n      }\n    }).then(res => {\n      this.setState({\n        data: res.data.reviews\n      });\n    }).catch(err => {\n      console.log('error');\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }\n    }, this.props.sideElement), /*#__PURE__*/React.createElement(Review, {\n      data: this.state.data,\n      reviewButton: /*#__PURE__*/React.createElement(LeaveReview, {\n        takeName: this.takeName,\n        takeRating: this.takeRating,\n        takeComment: this.takeComment,\n        createComment: this.createComment,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 54\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}","map":{"version":3,"sources":["/Users/student_m13/Desktop/Github/morning/Your-Local-Menu/src/components/ReviewCall.js"],"names":["React","Component","axios","LeaveReview","Review","Call","constructor","props","state","data","name","rating","comment","reviews","takeName","bind","takeRating","takeComment","createComment","event","setState","target","value","currentReviews","newReview","parseInt","Date","toISOString","replace","unshift","componentDidMount","console","log","callApi","get","restuarant","headers","Authorization","process","env","REACT_APP_API_KEY","then","res","catch","err","render","sideElement"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,MAAP,MAAmB,iBAAnB;AAGA,eAAe,MAAMC,IAAN,SAAmBJ,SAAnB,CAA6B;AACxCK,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,IAAI,EAAE,CAAC,EAAD,CADK;AAEXC,MAAAA,IAAI,EAAC,EAFM;AAGXC,MAAAA,MAAM,EAAC,CAHI;AAIXC,MAAAA,OAAO,EAAC,EAJG;AAKXC,MAAAA,OAAO,EAAC,CAAC,EAAD;AALG,KAAb;AAQA;AAAC;AAA6B;AAC9B,SAAKC,QAAL,GAAgB,KAAKA,QAAL,CAAcC,IAAd,CAAmB,IAAnB,CAAhB;AACA,SAAKC,UAAL,GAAkB,KAAKA,UAAL,CAAgBD,IAAhB,CAAqB,IAArB,CAAlB;AACA,SAAKE,WAAL,GAAmB,KAAKA,WAAL,CAAiBF,IAAjB,CAAsB,IAAtB,CAAnB;AACA,SAAKG,aAAL,GAAqB,KAAKA,aAAL,CAAmBH,IAAnB,CAAwB,IAAxB,CAArB;AACL;;AAEDD,EAAAA,QAAQ,CAACK,KAAD,EAAO;AACb;AAAC;AAAgC;AACjC,SAAKC,QAAL,CAAc;AAACV,MAAAA,IAAI,EAAES,KAAK,CAACE,MAAN,CAAaC;AAApB,KAAd;AACD;;AAEDN,EAAAA,UAAU,CAACG,KAAD,EAAO;AACf;AAAC;AAAgC;AACjC,SAAKC,QAAL,CAAc;AAACT,MAAAA,MAAM,EAAEQ,KAAK,CAACE,MAAN,CAAaC;AAAtB,KAAd;AACD;;AAEDL,EAAAA,WAAW,CAACE,KAAD,EAAO;AAChB;AAAC;AAAmC;AACpC,SAAKC,QAAL,CAAc;AAACR,MAAAA,OAAO,EAAEO,KAAK,CAACE,MAAN,CAAaC;AAAvB,KAAd;AACD;;AAEDJ,EAAAA,aAAa,GAAE;AACb;AACA;AACA;AACA;AACA;AAAC;AAAsD;AACvD,QAAIK,cAAc,GAAG,KAAKf,KAAL,CAAWC,IAAhC;AACA,QAAIe,SAAS,GAAI;AACb,YAAM,EADO;AAEb,aAAO,EAFM;AAGb,cAAQ,KAAKhB,KAAL,CAAWI,OAHN;AAIb,gBAAUa,QAAQ,CAAC,KAAKjB,KAAL,CAAWG,MAAZ,CAJL;AAKb,sBAAgB,IAAIe,IAAJ,GAAWC,WAAX,GAAyBC,OAAzB,CAAiC,GAAjC,EAAsC,GAAtC,EAA2CA,OAA3C,CAAmD,GAAnD,EAAwD,EAAxD,CALH;AAMb,cAAQ;AACN,cAAM,EADA;AAEN,uBAAe,EAFT;AAGN,qBAAa,EAHP;AAIN,gBAAQ,KAAKpB,KAAL,CAAWE;AAJb;AANK,KAAjB;AAaEa,IAAAA,cAAc,CAACM,OAAf,CAAuBL,SAAvB;AACA,SAAKJ,QAAL,CAAc;AAACX,MAAAA,IAAI,EAACc;AAAN,KAAd;AAEH;;AAECO,EAAAA,iBAAiB,GAAG;AACrBC,IAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;AACK;AAAC;AAAgC;AACjC,SAAKC,OAAL;AACH;;AACD,QAAMA,OAAN,GAAgB;AAEZ;AAAC;AAA+G;AAChH;AAAC;AAA6D;AAC9D/B,IAAAA,KAAK,CAACgC,GAAN,CAAW,GAAE,sCAAuC,sCAAqC,KAAK3B,KAAL,CAAW4B,UAAW,UAA/G,EAA0H;AAC1HC,MAAAA,OAAO,EAAE;AACLC,QAAAA,aAAa,EAAG,UAASC,OAAO,CAACC,GAAR,CAAYC,iBAAkB;AADlD;AADiH,KAA1H,EAKCC,IALD,CAKOC,GAAD,IAAS;AAEb,WAAKtB,QAAL,CAAc;AAACX,QAAAA,IAAI,EAACiC,GAAG,CAACjC,IAAJ,CAASI;AAAf,OAAd;AAED,KATD,EAUC8B,KAVD,CAUQC,GAAD,IAAS;AAChBb,MAAAA,OAAO,CAACC,GAAR,CAAa,OAAb;AACC,KAZD;AAcD;;AAELa,EAAAA,MAAM,GAAG;AAEP,wBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKtC,KAAL,CAAWuC,WADd,CAHF,eAME,oBAAC,MAAD;AAAQ,MAAA,IAAI,EAAE,KAAKtC,KAAL,CAAWC,IAAzB;AAA+B,MAAA,YAAY,eAAE,oBAAC,WAAD;AAAa,QAAA,QAAQ,EAAE,KAAKK,QAA5B;AAAsC,QAAA,UAAU,EAAE,KAAKE,UAAvD;AAAmE,QAAA,WAAW,EAAE,KAAKC,WAArF;AAAkG,QAAA,aAAa,EAAE,KAAKC,aAAtH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANF,CADF;AAYD;;AAjGyC","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport LeaveReview from './LeaveReview';\nimport Review from './Review/Review'\n\n\nexport default class Call extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n          data: [{}],\n          name:'',\n          rating:0,\n          comment:'',\n          reviews:['']\n\n        }\n        {/*this binds the functions*/}\n        this.takeName = this.takeName.bind(this);\n        this.takeRating = this.takeRating.bind(this);\n        this.takeComment = this.takeComment.bind(this);\n        this.createComment = this.createComment.bind(this);\n  }\n\n  takeName(event){\n    {/* update the ymbol in state */}\n    this.setState({name: event.target.value});\n  }\n\n  takeRating(event){\n    {/* update the ymbol in state */}\n    this.setState({rating: event.target.value});\n  }\n\n  takeComment(event){\n    {/* update the quantity in state */}\n    this.setState({comment: event.target.value});\n  }\n\n  createComment(){\n    //   let newReviews = this.state.reviews;\n    //   let newReviewHTML = <ReviewCell user={this.state.name} rating={this.state.rating} comment={this.state.comment}/>;\n    //   newReviews.push(newReviewHTML);\n    //  this.setState({reviews:newReviews});\n    {/*this puts the data from the data fields into data*/}\n    let currentReviews = this.state.data;\n    let newReview =  {\n        \"id\": \"\",\n        \"url\": \"\",\n        \"text\": this.state.comment,\n        \"rating\": parseInt(this.state.rating),\n        \"time_created\": new Date().toISOString().replace(\"T\", \" \").replace(\"Z\", \"\"),\n        \"user\": {\n          \"id\": \"\",\n          \"profile_url\": \"\",\n          \"image_url\": \"\",\n          \"name\": this.state.name\n        }\n      };\n      currentReviews.unshift(newReview);\n      this.setState({data:currentReviews});\n\n  }\n\n    componentDidMount() {\n   console.log(\"Are u comin here\")\n        {/* call the api on page load */}\n        this.callApi();\n    }\n    async callApi() {\n \n        {/*https://medium.com/@chaoyue_zhao/how-to-make-axios-api-calls-with-yelp-fusion-inside-react-js-10755d8485c5*/}\n        {/*this calls the api and puts the response data into state*/}\n        axios.get(`${'https://cors-anywhere.herokuapp.com/'}https://api.yelp.com/v3/businesses/${this.props.restuarant}/reviews`, {\n        headers: {\n            Authorization: `Bearer ${process.env.REACT_APP_API_KEY}`\n        }\n        })\n        .then((res) => {\n  \n          this.setState({data:res.data.reviews})\n        \n        })\n        .catch((err) => {\n        console.log ('error');\n        })\n        \n      }\n  \n  render() {\n    \n    return (\n      <div>\n\n        \n        <div>\n          {this.props.sideElement}\n        </div>   \n        <Review data={this.state.data} reviewButton={<LeaveReview takeName={this.takeName} takeRating={this.takeRating} takeComment={this.takeComment} createComment={this.createComment} />}/>\n\n      </div>\n      \n    )\n  }\n}"]},"metadata":{},"sourceType":"module"}