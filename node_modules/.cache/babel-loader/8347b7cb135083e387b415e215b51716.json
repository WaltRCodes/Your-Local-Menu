{"ast":null,"code":"var _jsxFileName = \"/Users/student_m13/Desktop/Github/mod3_orig/Your-Local-Menu/src/components/Review/Review.js\";\nimport React, { Component } from 'react';\nimport './Review.scss';\nexport default class Review extends Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidUpdate = prevProps => {\n      console.log(this.reviewData);\n\n      if (this.props.data !== prevProps.data) {\n        this.reviewRender();\n      }\n    };\n\n    this.componentDidMount = () => {\n      if (this.props.data.length > 1) {\n        this.reviewRender();\n      }\n    };\n\n    this.reviewRender = () => {\n      this.setState({\n        reviewData: this.props.data\n      });\n    };\n\n    this.handletextChange = e => {\n      this.setState({\n        id: e.target.id\n      });\n      var temp = this.state.reviewData;\n      temp[this.state.id].text = e.target.value;\n      this.setState({\n        reviewData: temp\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      this.setState({\n        id: -1\n      });\n    };\n\n    this.delete = e => {\n      var del = this.state.reviewData;\n      delete del[e.target.id];\n      this.setState({\n        reviewData: del\n      });\n    };\n\n    this.edit = e => {\n      // e.preventDefault();\n      console.log(\"Are u enabling\");\n      this.setState({\n        id: e.target.id\n      });\n      document.getElementsByClassName(\"textarea\")[0].s;\n      console.log(e.target.id);\n    };\n\n    this.state = {\n      reviewData: [],\n      id: -1\n    };\n  } // Calling Reviewrender once props value is obtained\n\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }\n    }, this.props.reviewButton), /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }\n    }, \"Reviews \"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flexparent\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }\n    }, this.state.reviewData != null && this.state.reviewData.map((dt, i) => /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flexchild\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"thumbnaildiv\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      id: \"displaypic\",\n      src: dt.user.image_url,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }\n    }, dt.user.name), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      id: i,\n      onClick: this.edit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }\n    }, \"Update\"), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      id: i,\n      onClick: this.delete,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }\n    }, \"Delete\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"forflex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }\n    }, \"Reviewed on \", dt.time_created), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }\n    }, dt.rating, \" Stars\"), /*#__PURE__*/React.createElement(\"textarea\", {\n      className: \"textarea\",\n      id: i,\n      value: dt.text,\n      onChange: this.handletextChange,\n      disabled: this.state.id === i ? false : true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      id: i,\n      onClick: this.handleSubmit,\n      hidden: this.state.id === i ? false : true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }\n    }, \"Submit\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }\n    })));\n  }\n\n}","map":{"version":3,"sources":["/Users/student_m13/Desktop/Github/mod3_orig/Your-Local-Menu/src/components/Review/Review.js"],"names":["React","Component","Review","constructor","props","componentDidUpdate","prevProps","console","log","reviewData","data","reviewRender","componentDidMount","length","setState","handletextChange","e","id","target","temp","state","text","value","handleSubmit","preventDefault","delete","del","edit","document","getElementsByClassName","s","render","reviewButton","map","dt","i","user","image_url","name","time_created","rating"],"mappings":"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","sourcesContent":["import React,{Component} from 'react';\nimport './Review.scss'\n\nexport default class Review extends Component{\n    constructor(props){\n        super(props)\n\n        this.state={\n            reviewData:[],\n            id:-1\n        }\n\n    }\n    // Calling Reviewrender once props value is obtained\n    componentDidUpdate=(prevProps)=>{\n        console.log(this.reviewData)\n        if(this.props.data!==prevProps.data)\n        {\n            this.reviewRender();\n        }\n        \n    }\n\n    componentDidMount=()=>{\n         \n        if(this.props.data.length>1)\n        {\n            this.reviewRender();\n        }\n    }\n    // Saving the review details in state variable\n    reviewRender=()=>{\n        this.setState({reviewData:this.props.data})\n         \n    }\n    // If comment is changed save that comment\n    handletextChange=(e)=>{\n    this.setState({id:e.target.id})\n    var temp=this.state.reviewData\n    temp[this.state.id].text=e.target.value;\n    this.setState({reviewData:temp})\n    }\n    // Once comment is submitted changing the id to default\n    handleSubmit=(e)=>{\n    e.preventDefault();\n    this.setState({id:-1})\n    }\n    // deleting element in array by index value\n    delete=(e)=>{\n    var del=this.state.reviewData\n    delete del[e.target.id]\n    this.setState({reviewData:del})\n    }\n    // once update button is clicked target id is saved to enable editing text area\n    edit=(e)=>{\n        // e.preventDefault();\n        console.log(\"Are u enabling\")\n        this.setState({id:e.target.id})\n        document.getElementsByClassName(\"textarea\")[0].s\n        console.log(e.target.id)\n    \n    }\n    render(){\n\n        return(\n        <div className=\"container\">\n            \n            <div>{this.props.reviewButton}</div>\n        <h1>Reviews </h1>\n        {/* mapping to render review details */}\n        <div className=\"flexparent\">\n        {\n        this.state.reviewData!=null &&\n        this.state.reviewData.map((dt,i)=>(\n        <div>\n                <div className=\"flexchild\">\n                <div className='thumbnaildiv'>\n                <img id=\"displaypic\" src={dt.user.image_url}/>\n                <p>{dt.user.name}</p>\n                <div className=\"btn\">\n                <button type=\"submit\" id={i} onClick={this.edit}>Update</button>\n                <button type=\"submit\" id={i} onClick={this.delete}>Delete</button>\n                </div>\n                </div>\n                \n                <div className=\"forflex\">\n                <span>Reviewed on {dt.time_created}</span>\n                <span>{dt.rating} Stars</span>\n                <textarea className='textarea' id={i} value={dt.text} onChange={this.handletextChange} disabled={this.state.id===i?false:true}/ >\n                </div>\n                <button type=\"submit\" id={i} onClick={this.handleSubmit} hidden={this.state.id===i ?false:true}>Submit</button>\n                <br />\n                </div>\n                <br />\n                </div>\n                 ))\n        }\n                        \n        <br />\n        <br />\n        </div>\n\n        </div>\n\n         );\n    }\n}"]},"metadata":{},"sourceType":"module"}