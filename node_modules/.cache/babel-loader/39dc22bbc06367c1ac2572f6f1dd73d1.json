{"ast":null,"code":"import _classCallCheck from\"/Users/student_ga108/Documents/Perscholas-sei-blended/PerScholas-sei-blended-Module-3-Week-2/secondtry/Your-Local-Menu/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/student_ga108/Documents/Perscholas-sei-blended/PerScholas-sei-blended-Module-3-Week-2/secondtry/Your-Local-Menu/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/student_ga108/Documents/Perscholas-sei-blended/PerScholas-sei-blended-Module-3-Week-2/secondtry/Your-Local-Menu/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/student_ga108/Documents/Perscholas-sei-blended/PerScholas-sei-blended-Module-3-Week-2/secondtry/Your-Local-Menu/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import'./Review.scss';var Review=/*#__PURE__*/function(_Component){_inherits(Review,_Component);var _super=_createSuper(Review);function Review(props){var _this;_classCallCheck(this,Review);_this=_super.call(this,props);_this.componentDidUpdate=function(prevProps){console.log(_this.reviewData);if(_this.props.data!=prevProps.data){_this.reviewRender();}};_this.componentDidMount=function(){if(_this.props.data.length>1){_this.reviewRender();}};_this.reviewRender=function(){_this.setState({reviewData:_this.props.data});};_this.handletextChange=function(e){_this.setState({id:e.target.id});var temp=_this.state.reviewData;temp[_this.state.id].text=e.target.value;_this.setState({reviewData:temp});};_this.handleSubmit=function(e){e.preventDefault();_this.setState({id:-1});};_this.delete=function(e){var del=_this.state.reviewData;delete del[e.target.id];_this.setState({reviewData:del});};_this.edit=function(e){e.preventDefault();console.log(\"Are u enabling\");_this.setState({id:e.target.id});document.getElementsByClassName('textarea')[e.target.id].style.disabled=\"false\";console.log(e.target.id);};_this.state={reviewData:[],id:-1};return _this;}// Calling Reviewrender once props value is obtained\n_createClass(Review,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",null,this.props.reviewButton),/*#__PURE__*/React.createElement(\"h1\",null,\"Reviews \"),/*#__PURE__*/React.createElement(\"div\",{className:\"flexparent\"},this.state.reviewData!=null&&this.state.reviewData.map(function(dt,i){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"flexchild\"},/*#__PURE__*/React.createElement(\"div\",{className:\"thumbnaildiv\"},/*#__PURE__*/React.createElement(\"img\",{id:\"displaypic\",src:dt.user.image_url}),/*#__PURE__*/React.createElement(\"p\",null,dt.user.name),/*#__PURE__*/React.createElement(\"div\",{className:\"btn\"},/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",id:i,onClick:_this2.edit},\"Update\"),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",id:i,onClick:_this2.delete},\"Delete\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"forflex\"},/*#__PURE__*/React.createElement(\"span\",null,\"Reviewed on \",dt.time_created),/*#__PURE__*/React.createElement(\"span\",null,dt.rating,\" Stars\"),/*#__PURE__*/React.createElement(\"textarea\",{className:\"textarea\",id:i,value:dt.text,onChange:_this2.handletextChange,disabled:_this2.state.id==i?false:true})),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",id:i,onClick:_this2.handleSubmit,hidden:_this2.state.id==i?false:true},\"Submit\"),/*#__PURE__*/React.createElement(\"br\",null)),/*#__PURE__*/React.createElement(\"br\",null));}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null)));}}]);return Review;}(Component);export{Review as default};","map":{"version":3,"sources":["/Users/student_ga108/Documents/Perscholas-sei-blended/PerScholas-sei-blended-Module-3-Week-2/secondtry/Your-Local-Menu/src/components/Review/Review.js"],"names":["React","Component","Review","props","componentDidUpdate","prevProps","console","log","reviewData","data","reviewRender","componentDidMount","length","setState","handletextChange","e","id","target","temp","state","text","value","handleSubmit","preventDefault","delete","del","edit","document","getElementsByClassName","style","disabled","reviewButton","map","dt","i","user","image_url","name","time_created","rating"],"mappings":"o6BAAA,MAAOA,CAAAA,KAAP,EAAcC,SAAd,KAA8B,OAA9B,CACA,MAAO,eAAP,C,GAEqBC,CAAAA,M,gGACjB,gBAAYC,KAAZ,CAAkB,wCACd,uBAAMA,KAAN,EADc,MAUlBC,kBAVkB,CAUC,SAACC,SAAD,CAAa,CAC5BC,OAAO,CAACC,GAAR,CAAY,MAAKC,UAAjB,EACA,GAAG,MAAKL,KAAL,CAAWM,IAAX,EAAiBJ,SAAS,CAACI,IAA9B,CACA,CACI,MAAKC,YAAL,GACH,CAEJ,CAjBiB,OAmBlBC,iBAnBkB,CAmBA,UAAI,CAElB,GAAG,MAAKR,KAAL,CAAWM,IAAX,CAAgBG,MAAhB,CAAuB,CAA1B,CACA,CACI,MAAKF,YAAL,GACH,CACJ,CAzBiB,OA2BlBA,YA3BkB,CA2BL,UAAI,CACb,MAAKG,QAAL,CAAc,CAACL,UAAU,CAAC,MAAKL,KAAL,CAAWM,IAAvB,CAAd,EAEH,CA9BiB,OAgClBK,gBAhCkB,CAgCD,SAACC,CAAD,CAAK,CACtB,MAAKF,QAAL,CAAc,CAACG,EAAE,CAACD,CAAC,CAACE,MAAF,CAASD,EAAb,CAAd,EACA,GAAIE,CAAAA,IAAI,CAAC,MAAKC,KAAL,CAAWX,UAApB,CACAU,IAAI,CAAC,MAAKC,KAAL,CAAWH,EAAZ,CAAJ,CAAoBI,IAApB,CAAyBL,CAAC,CAACE,MAAF,CAASI,KAAlC,CACA,MAAKR,QAAL,CAAc,CAACL,UAAU,CAACU,IAAZ,CAAd,EACC,CArCiB,OAuClBI,YAvCkB,CAuCL,SAACP,CAAD,CAAK,CAClBA,CAAC,CAACQ,cAAF,GACA,MAAKV,QAAL,CAAc,CAACG,EAAE,CAAC,CAAC,CAAL,CAAd,EACC,CA1CiB,OA4ClBQ,MA5CkB,CA4CX,SAACT,CAAD,CAAK,CACZ,GAAIU,CAAAA,GAAG,CAAC,MAAKN,KAAL,CAAWX,UAAnB,CACA,MAAOiB,CAAAA,GAAG,CAACV,CAAC,CAACE,MAAF,CAASD,EAAV,CAAV,CACA,MAAKH,QAAL,CAAc,CAACL,UAAU,CAACiB,GAAZ,CAAd,EACC,CAhDiB,OAkDlBC,IAlDkB,CAkDb,SAACX,CAAD,CAAK,CACPA,CAAC,CAACQ,cAAF,GACCjB,OAAO,CAACC,GAAR,CAAY,gBAAZ,EACA,MAAKM,QAAL,CAAc,CAACG,EAAE,CAACD,CAAC,CAACE,MAAF,CAASD,EAAb,CAAd,EACAW,QAAQ,CAACC,sBAAT,CAAgC,UAAhC,EAA4Cb,CAAC,CAACE,MAAF,CAASD,EAArD,EAAyDa,KAAzD,CAA+DC,QAA/D,CAAwE,OAAxE,CACAxB,OAAO,CAACC,GAAR,CAAYQ,CAAC,CAACE,MAAF,CAASD,EAArB,EAEH,CAzDiB,CAGd,MAAKG,KAAL,CAAW,CACPX,UAAU,CAAC,EADJ,CAEPQ,EAAE,CAAC,CAAC,CAFG,CAAX,CAHc,aAQjB,CACD;0DAiDQ,iBAEJ,mBACA,2BAAK,SAAS,CAAC,WAAf,eAEI,+BAAM,KAAKb,KAAL,CAAW4B,YAAjB,CAFJ,cAGA,yCAHA,cAKA,2BAAK,SAAS,CAAC,YAAf,EAEA,KAAKZ,KAAL,CAAWX,UAAX,EAAuB,IAAvB,EACA,KAAKW,KAAL,CAAWX,UAAX,CAAsBwB,GAAtB,CAA0B,SAACC,EAAD,CAAIC,CAAJ,qBAC1B,4CACQ,2BAAK,SAAS,CAAC,WAAf,eACA,2BAAK,SAAS,CAAC,cAAf,eACA,2BAAK,EAAE,CAAC,YAAR,CAAqB,GAAG,CAAED,EAAE,CAACE,IAAH,CAAQC,SAAlC,EADA,cAEA,6BAAIH,EAAE,CAACE,IAAH,CAAQE,IAAZ,CAFA,cAGA,2BAAK,SAAS,CAAC,KAAf,eACA,8BAAQ,IAAI,CAAC,QAAb,CAAsB,EAAE,CAAEH,CAA1B,CAA6B,OAAO,CAAE,MAAI,CAACR,IAA3C,WADA,cAEA,8BAAQ,IAAI,CAAC,QAAb,CAAsB,EAAE,CAAEQ,CAA1B,CAA6B,OAAO,CAAE,MAAI,CAACV,MAA3C,WAFA,CAHA,CADA,cAUA,2BAAK,SAAS,CAAC,SAAf,eACA,+CAAmBS,EAAE,CAACK,YAAtB,CADA,cAEA,gCAAOL,EAAE,CAACM,MAAV,UAFA,cAGA,gCAAU,SAAS,CAAC,UAApB,CAA+B,EAAE,CAAEL,CAAnC,CAAsC,KAAK,CAAED,EAAE,CAACb,IAAhD,CAAsD,QAAQ,CAAE,MAAI,CAACN,gBAArE,CAAuF,QAAQ,CAAE,MAAI,CAACK,KAAL,CAAWH,EAAX,EAAekB,CAAf,CAAkB,KAAlB,CAAwB,IAAzH,EAHA,CAVA,cAeA,8BAAQ,IAAI,CAAC,QAAb,CAAsB,EAAE,CAAEA,CAA1B,CAA6B,OAAO,CAAE,MAAI,CAACZ,YAA3C,CAAyD,MAAM,CAAE,MAAI,CAACH,KAAL,CAAWH,EAAX,EAAekB,CAAf,CAAkB,KAAlB,CAAwB,IAAzF,WAfA,cAgBA,8BAhBA,CADR,cAmBQ,8BAnBR,CAD0B,EAA1B,CAHA,cA4BA,8BA5BA,cA6BA,8BA7BA,CALA,CADA,CAyCH,C,oBAtG+BjC,S,SAAfC,M","sourcesContent":["import React,{Component} from 'react';\nimport './Review.scss'\n\nexport default class Review extends Component{\n    constructor(props){\n        super(props)\n\n        this.state={\n            reviewData:[],\n            id:-1\n        }\n\n    }\n    // Calling Reviewrender once props value is obtained\n    componentDidUpdate=(prevProps)=>{\n        console.log(this.reviewData)\n        if(this.props.data!=prevProps.data)\n        {\n            this.reviewRender();\n        }\n        \n    }\n\n    componentDidMount=()=>{\n         \n        if(this.props.data.length>1)\n        {\n            this.reviewRender();\n        }\n    }\n    // Saving the review details in state variable\n    reviewRender=()=>{\n        this.setState({reviewData:this.props.data})\n         \n    }\n    // If comment is changed save that comment\n    handletextChange=(e)=>{\n    this.setState({id:e.target.id})\n    var temp=this.state.reviewData\n    temp[this.state.id].text=e.target.value;\n    this.setState({reviewData:temp})\n    }\n    // Once comment is submitted changing the id to default\n    handleSubmit=(e)=>{\n    e.preventDefault();\n    this.setState({id:-1})\n    }\n    // deleting element in array by index value\n    delete=(e)=>{\n    var del=this.state.reviewData\n    delete del[e.target.id]\n    this.setState({reviewData:del})\n    }\n    // once update button is clicked target id is saved to enable editing text area\n    edit=(e)=>{\n       e.preventDefault();\n        console.log(\"Are u enabling\")\n        this.setState({id:e.target.id})\n        document.getElementsByClassName('textarea')[e.target.id].style.disabled=\"false\"\n        console.log(e.target.id)\n    \n    }\n    render(){\n\n        return(\n        <div className=\"container\">\n            \n            <div>{this.props.reviewButton}</div>\n        <h1>Reviews </h1>\n        {/* mapping to render review details */}\n        <div className=\"flexparent\">\n        {\n        this.state.reviewData!=null &&\n        this.state.reviewData.map((dt,i)=>(\n        <div>\n                <div className=\"flexchild\">\n                <div className='thumbnaildiv'>\n                <img id=\"displaypic\" src={dt.user.image_url}/>\n                <p>{dt.user.name}</p>\n                <div className=\"btn\">\n                <button type=\"submit\" id={i} onClick={this.edit}>Update</button>\n                <button type=\"submit\" id={i} onClick={this.delete}>Delete</button>\n                </div>\n                </div>\n                \n                <div className=\"forflex\">\n                <span>Reviewed on {dt.time_created}</span>\n                <span>{dt.rating} Stars</span>\n                <textarea className='textarea' id={i} value={dt.text} onChange={this.handletextChange} disabled={this.state.id==i ?false:true}/ >\n                </div>\n                <button type=\"submit\" id={i} onClick={this.handleSubmit} hidden={this.state.id==i ?false:true}>Submit</button>\n                <br />\n                </div>\n                <br />\n                </div>\n                 ))\n        }\n                        \n        <br />\n        <br />\n        </div>\n\n        </div>\n\n         );\n    }\n}"]},"metadata":{},"sourceType":"module"}